# Production profile - Works with any cloud platform
# Uses environment variables for configuration
# Platforms: Railway, Render, Heroku, Google Cloud Run, AWS, etc.

spring.profiles.active=prod

# Database connection - Uses environment variables
# Most platforms provide these automatically:
# - Railway: MYSQL_HOST, MYSQL_PORT, MYSQL_DATABASE, MYSQL_USER, MYSQL_PASSWORD
# - Render: DATABASE_URL (PostgreSQL) or custom MySQL variables
# - Heroku: CLEARDB_DATABASE_URL or custom variables
# - Google Cloud: SPRING_DATASOURCE_URL (set via Cloud Run env vars)
# - AWS: Custom RDS variables

# Option 1: Full URL (for platforms that provide it)
spring.datasource.url=${SPRING_DATASOURCE_URL:${DATABASE_URL:jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:workoutdb}?useSSL=false&allowPublicKeyRetrieval=true}}

# Option 2: Google Cloud SQL (if using Cloud Run/App Engine)
# Uncomment and set SPRING_DATASOURCE_URL in Cloud Run environment variables:
# spring.datasource.url=${SPRING_DATASOURCE_URL}

# Database credentials
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DB_USER:${MYSQL_USER:root}}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DB_PASSWORD:${MYSQL_PASSWORD:}}}

# JPA settings
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# PostgreSQL support (for Render and other platforms using PostgreSQL)
# Uncomment if using PostgreSQL:
# spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# spring.datasource.url=${DATABASE_URL}

# Server settings - Most platforms set PORT automatically
server.port=${PORT:8080}

# Application name
spring.application.name=WorkoutTracker


